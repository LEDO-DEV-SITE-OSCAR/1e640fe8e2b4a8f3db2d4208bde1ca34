<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kết quả xổ số</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        td, th {
            border: 1px solid #ddd;
            padding: 8px;
        }
        td {
            text-align: left;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>
    <h1>Kết quả xổ số mới nhất</h1>
    <div id="lottery-table"></div>
    <div id="loto-table"></div>

    <script>
        // Dữ liệu xổ số từ file CSV (giả định đã được cung cấp)
        const lotteryData = {
            date: "30-12-2024",
            special: "34071",
            first: "85687",
            second: ["55202", "84467"],
            third: ["64837", "67592", "00433", "10933", "84813", "01310"],
            fourth: ["0808", "8871", "1096", "9171"],
            fifth: ["7562", "8884", "3508", "6484", "5334", "6745"],
            sixth: ["432", "971", "308"],
            seventh: ["98", "95", "90", "11"]
        };

        // Xử lý dữ liệu Loto (đầu và đuôi)
        const lotoData = {};
        const allNumbers = [
            lotteryData.special,
            lotteryData.first,
            ...lotteryData.second,
            ...lotteryData.third,
            ...lotteryData.fourth,
            ...lotteryData.fifth,
            ...lotteryData.sixth,
            ...lotteryData.seventh
        ];

        allNumbers.forEach(num => {
            const head = num[0]; // Đầu (chữ số đầu tiên)
            const tail = num[num.length - 1]; // Đuôi (chữ số cuối cùng)
            if (!lotoData[head]) lotoData[head] = [];
            lotoData[head].push(tail);
        });

        // Hàm tạo bảng HTML
        function createTable(data, title) {
            let html = `<h2>${title}</h2><table>`;
            for (const key in data) {
                if (Array.isArray(data[key])) {
                    html += `<tr><td>${key}</td><td>${data[key].join(", ")}</td></tr>`;
                } else {
                    html += `<tr><td>${key}</td><td>${data[key]}</td></tr>`;
                }
            }
            html += "</table>";
            return html;
        }

        // Tạo bảng Lottery
        const lotteryTable = `
            <table>
                <tr><td>Date (Ngày)</td><td>${lotteryData.date}</td></tr>
                <tr><td>Special (Giải đặc biệt)</td><td>${lotteryData.special}</td></tr>
                <tr><td>First (Giải nhất)</td><td>${lotteryData.first}</td></tr>
                <tr><td>Second (Giải nhì)</td><td>${lotteryData.second.join(", ")}</td></tr>
                <tr><td rowspan="2">Third (Giải ba)</td><td>${lotteryData.third.slice(0, 3).join(", ")}</td></tr>
                <tr><td>${lotteryData.third.slice(3).join(", ")}</td></tr>
                <tr><td>Fourth (Giải tư)</td><td>${lotteryData.fourth.join(", ")}</td></tr>
                <tr><td rowspan="2">Fifth (Giải năm)</td><td>${lotteryData.fifth.slice(0, 3).join(", ")}</td></tr>
                <tr><td>${lotteryData.fifth.slice(3).join(", ")}</td></tr>
                <tr><td>Sixth (Giải sáu)</td><td>${lotteryData.sixth.join(", ")}</td></tr>
                <tr><td>Seventh (Giải bảy)</td><td>${lotteryData.seventh.join(", ")}</td></tr>
            </table>
        `;

        // Tạo bảng Loto
        let lotoTable = "<table><tr><th>First (Đầu)</th><th>Last (Đuôi)</th></tr>";
        for (let i = 0; i <= 9; i++) {
            const head = i.toString();
            const tails = lotoData[head] ? lotoData[head].join(", ") : "-";
            lotoTable += `<tr><td>${head}</td><td>${tails}</td></tr>`;
        }
        lotoTable += "</table>";

        // Hiển thị bảng
        document.getElementById("lottery-table").innerHTML = lotteryTable;
        document.getElementById("loto-table").innerHTML = lotoTable;
    </script>
</body>
</html>
